{"version":3,"sources":["index.js","is-implemented.js","polyfill.js","lib/iterator.js","is-native-implemented.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,AENA,ADGA;ADIA,AENA,ADGA;ADIA,AENA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AGTA,ADGA,ADGA;ADIA,AENA,ADGA;ADIA,AENA,ADGA;ADIA,AENA,ADGA;ADIA,AENA,ADGA;ADIA,AENA,ADGA;ADIA,AENA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\n\nmodule.exports = require(\"./is-implemented\")() ? Set : require(\"./polyfill\");\n","\n\nmodule.exports = function () {\n\tvar set, iterator, result;\n\tif (typeof Set !== \"function\") return false;\n\tset = new Set([\"raz\", \"dwa\", \"trzy\"]);\n\tif (String(set) !== \"[object Set]\") return false;\n\tif (set.size !== 3) return false;\n\tif (typeof set.add !== \"function\") return false;\n\tif (typeof set.clear !== \"function\") return false;\n\tif (typeof set.delete !== \"function\") return false;\n\tif (typeof set.entries !== \"function\") return false;\n\tif (typeof set.forEach !== \"function\") return false;\n\tif (typeof set.has !== \"function\") return false;\n\tif (typeof set.keys !== \"function\") return false;\n\tif (typeof set.values !== \"function\") return false;\n\n\titerator = set.values();\n\tresult = iterator.next();\n\tif (result.done !== false) return false;\n\tif (result.value !== \"raz\") return false;\n\n\treturn true;\n};\n","\n\nvar isValue        = require(\"type/value/is\")\n  , clear          = require(\"es5-ext/array/#/clear\")\n  , eIndexOf       = require(\"es5-ext/array/#/e-index-of\")\n  , setPrototypeOf = require(\"es5-ext/object/set-prototype-of\")\n  , callable       = require(\"es5-ext/object/valid-callable\")\n  , d              = require(\"d\")\n  , ee             = require(\"event-emitter\")\n  , Symbol         = require(\"es6-symbol\")\n  , iterator       = require(\"es6-iterator/valid-iterable\")\n  , forOf          = require(\"es6-iterator/for-of\")\n  , Iterator       = require(\"./lib/iterator\")\n  , isNative       = require(\"./is-native-implemented\")\n  , call           = Function.prototype.call\n  , defineProperty = Object.defineProperty\n  , getPrototypeOf = Object.getPrototypeOf\n  , SetPoly\n  , getValues\n  , NativeSet;\n\nif (isNative) NativeSet = Set;\n\nmodule.exports = SetPoly = function Set(/* iterable*/) {\n\tvar iterable = arguments[0], self;\n\tif (!(this instanceof SetPoly)) throw new TypeError(\"Constructor requires 'new'\");\n\tif (isNative && setPrototypeOf) self = setPrototypeOf(new NativeSet(), getPrototypeOf(this));\n\telse self = this;\n\tif (isValue(iterable)) iterator(iterable);\n\tdefineProperty(self, \"__setData__\", d(\"c\", []));\n\tif (!iterable) return self;\n\tforOf(\n\t\titerable,\n\t\tfunction (value) {\n\t\t\tif (eIndexOf.call(this, value) !== -1) return;\n\t\t\tthis.push(value);\n\t\t},\n\t\tself.__setData__\n\t);\n\treturn self;\n};\n\nif (isNative) {\n\tif (setPrototypeOf) setPrototypeOf(SetPoly, NativeSet);\n\tSetPoly.prototype = Object.create(NativeSet.prototype, { constructor: d(SetPoly) });\n}\n\nee(\n\tObject.defineProperties(SetPoly.prototype, {\n\t\tadd: d(function (value) {\n\t\t\tif (this.has(value)) return this;\n\t\t\tthis.emit(\"_add\", this.__setData__.push(value) - 1, value);\n\t\t\treturn this;\n\t\t}),\n\t\tclear: d(function () {\n\t\t\tif (!this.__setData__.length) return;\n\t\t\tclear.call(this.__setData__);\n\t\t\tthis.emit(\"_clear\");\n\t\t}),\n\t\tdelete: d(function (value) {\n\t\t\tvar index = eIndexOf.call(this.__setData__, value);\n\t\t\tif (index === -1) return false;\n\t\t\tthis.__setData__.splice(index, 1);\n\t\t\tthis.emit(\"_delete\", index, value);\n\t\t\treturn true;\n\t\t}),\n\t\tentries: d(function () { return new Iterator(this, \"key+value\"); }),\n\t\tforEach: d(function (cb /*, thisArg*/) {\n\t\t\tvar thisArg = arguments[1], iterator, result, value;\n\t\t\tcallable(cb);\n\t\t\titerator = this.values();\n\t\t\tresult = iterator._next();\n\t\t\twhile (result !== undefined) {\n\t\t\t\tvalue = iterator._resolve(result);\n\t\t\t\tcall.call(cb, thisArg, value, value, this);\n\t\t\t\tresult = iterator._next();\n\t\t\t}\n\t\t}),\n\t\thas: d(function (value) { return eIndexOf.call(this.__setData__, value) !== -1; }),\n\t\tkeys: d((getValues = function () { return this.values(); })),\n\t\tsize: d.gs(function () { return this.__setData__.length; }),\n\t\tvalues: d(function () { return new Iterator(this); }),\n\t\ttoString: d(function () { return \"[object Set]\"; })\n\t})\n);\ndefineProperty(SetPoly.prototype, Symbol.iterator, d(getValues));\ndefineProperty(SetPoly.prototype, Symbol.toStringTag, d(\"c\", \"Set\"));\n","\n\nvar setPrototypeOf    = require(\"es5-ext/object/set-prototype-of\")\n  , contains          = require(\"es5-ext/string/#/contains\")\n  , d                 = require(\"d\")\n  , Iterator          = require(\"es6-iterator\")\n  , toStringTagSymbol = require(\"es6-symbol\").toStringTag\n  , defineProperty    = Object.defineProperty\n  , SetIterator;\n\nSetIterator = module.exports = function (set, kind) {\n\tif (!(this instanceof SetIterator)) return new SetIterator(set, kind);\n\tIterator.call(this, set.__setData__, set);\n\tif (!kind) kind = \"value\";\n\telse if (contains.call(kind, \"key+value\")) kind = \"key+value\";\n\telse kind = \"value\";\n\treturn defineProperty(this, \"__kind__\", d(\"\", kind));\n};\nif (setPrototypeOf) setPrototypeOf(SetIterator, Iterator);\n\nSetIterator.prototype = Object.create(Iterator.prototype, {\n\tconstructor: d(SetIterator),\n\t_resolve: d(function (i) {\n\t\tif (this.__kind__ === \"value\") return this.__list__[i];\n\t\treturn [this.__list__[i], this.__list__[i]];\n\t}),\n\ttoString: d(function () { return \"[object Set Iterator]\"; })\n});\ndefineProperty(SetIterator.prototype, toStringTagSymbol, d(\"c\", \"Set Iterator\"));\n","// Exports true if environment provides native `Set` implementation,\n// whatever that is.\n\n\n\nmodule.exports = (function () {\n\tif (typeof Set === \"undefined\") return false;\n\treturn Object.prototype.toString.call(Set.prototype) === \"[object Set]\";\n})();\n"]}